@page
@model ClubBAISTGolfClub.Pages.TeeTimeReservationsModel
@{
    Layout = "_Header";
    ViewData["Title"] = "My Reservations";
}
<div class="bookTee">
    <nav class="memberhome_nav">
        <ul>
            <li>
                <a href="~/MemberHome">My Account</a>
            </li>
            @if (Model.Member.MemberApplicationStatus == "Approved")
            {
                <li>
                    <a href="~/BookTeeTime">Tee Times</a>
                </li>
                <li>
                    <a href="~/TeeTimeReservations">Reservations</a>
                </li>
                <li>
                    <a href="/Scores">Rec Scores</a>
                </li>
            }
            @if (Model.Member.MembershipType == "Admin")
            {
                <li>
                    <a href="~/Admin">Admin</a>
                </li>
            }
        </ul>
        </ul>
    </nav>
    <div class="infodiv">
        <h2>My Reservations</h2>
        <form method="post">
            <p>@Model.ErrorMessage</p>
            <div class="month_form">
                <input type="number" name="TeeTimeID" placeholder="TeeTimeID" class="updateMember_input" min="0" />
                <input type="submit" name="Submit" value="Go" class="updateMember_button" />
            </div>
            <table border="1" class="admintable">
                <tr>
                    <th>Tee Time ID</th>
                    <th>MemberID</th>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Reservation Status</th>
                </tr>
               
                @foreach (var teeTime in Model.TeeTimeList)
                {
                    <tr>
                        <td>@teeTime.TeeTimeID</td>
                        <td>@teeTime.MemberID</td>
                        <td>@teeTime.Date.ToString("yyyy-MM-dd")</td>
                        <td>@teeTime.Time</td>
                        <td>@teeTime.ReservationStatus</td>
                    </tr>
                }
            </table>
                @if (Model.TeeTimeList.Count == 0)
                {
                    <p class="noreservations">You have No Currently Booked Reservations</p>
                }
            <p>@Model.Message</p>
            @if (Model.TeeTime.ReservationStatus != "")
            {
                <div class="appointment cancelteeTimeContainer">
                    <h3>Are You sure you want to Delete This Reservation?</h3>
                    <input type="text" name="TeeTimeID" value="@Model.TeeTime.TeeTimeID" disabled />
                    <input type="text" name="Date" value="@Model.TeeTime.Date.ToString("yyyy-MM-dd")" disabled/>
                    <input type="text" name="Time" value="@Model.TeeTime.Time" disabled/>
                    <input type="submit" name="Submit" value="Delete" class="deletebutton"/>
                    <input type="submit" name="Submit" value="Cancel" class="cancelbutton"/>
                </div>
            }
        </form>
    </div>
</div>
